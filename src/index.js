"use strict";var w=Object.create;var i=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var I=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var _=(e,o,n,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of D(o))!C.call(e,r)&&r!==n&&i(e,r,{get:()=>o[r],enumerable:!(s=g(o,r))||s.enumerable});return e};var y=(e,o,n)=>(n=e!=null?w(I(e)):{},_(o||!e||!e.__esModule?i(n,"default",{value:e,enumerable:!0}):n,e));var t=require("discord.js");var d=y(require("dotenv"));d.default.config();var{DISCORD_TOKEN:l,DISCORD_CLIENT_ID:f,DEV_GUILD_ID:E,SECRET_BASE_ID:N}=process.env;if(!l||!f)throw new Error("Missing environment variables");var h={DISCORD_TOKEN:l,DISCORD_CLIENT_ID:f,DEV_GUILD_ID:E,SECRET_BASE_ID:N};var u=require("fs"),m=require("path"),a=new t.Client({intents:[t.GatewayIntentBits.Guilds]});a.commands=new t.Collection;var p=m.join(__dirname,"commands"),S=u.readdirSync(p);for(let e of S){let o=m.join(p,e),n=u.readdirSync(o).filter(s=>s.endsWith(".ts"));for(let s of n){let r=m.join(o,s),c=require(r);"data"in c&&"execute"in c?a.commands.set(c.data.name,c):console.log(`[WARNING] The command at ${r} is missing a required "data" or "execute" property.`)}}a.once("ready",()=>{console.log("Discord bot is ready! \u{1F916}")});a.on(t.Events.InteractionCreate,async e=>{if(!e.isChatInputCommand())return;let o=e.client.commands.get(e.commandName);if(!o){console.error(`No command matching ${e.commandName} was found.`);return}try{await o.execute(e)}catch(n){console.error(n),e.replied||e.deferred?await e.followUp({content:"There was an error while executing this command!",ephemeral:!0}):await e.reply({content:"There was an error while executing this command!",ephemeral:!0})}});a.login(h.DISCORD_TOKEN);
